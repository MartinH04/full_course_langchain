# 文本嵌入模型的应用

我们将通过以下步骤介绍如何使用这种文本嵌入模型。

####  1.环境设置

首先，我们需要安装OpenAI的Python包。

```
pip install openai
```

接着，我们需要获取一个API密钥来访问API，这可以通过创建一个账户并访问指定页面来获取。一旦我们拿到密钥，我们需要通过运行指定的代码将其设置为环境变量。

```
export OPENAI_API_KEY="..."
```

如果你不想设置环境变量，你也可以在初始化OpenAI LLM类时，通过名为openai_api_key的参数直接传入密钥。

```
from langchain.embeddings import OpenAIEmbeddings

embeddings_model = OpenAIEmbeddings(openai_api_key="...")
```
如果你设置环境变量的话，就不用传递参数。

```
from langchain.embeddings import OpenAIEmbeddings

embeddings_model = OpenAIEmbeddings()
```

####  2. 嵌入文本列表

这一步是将一组文本进行嵌入。你只需调用Embeddings类的相关方法，传入你要嵌入的文本列表即可。

```
embeddings = embeddings_model.embed_documents(
    [
        "Hi there!",
        "Oh, hello!",
        "What's your name?",
        "My friends call me World",
        "Hello World!"
    ]
)
len(embeddings), len(embeddings[0])
```

```
(5, 1536)
```

####  3. 嵌入单一查询

这一步是为了比较与其他嵌入文本的相似度，将单一的文本进行嵌入。同样的，你只需调用Embeddings类的相关方法，传入你要嵌入的文本即可。

```
embedded_query = embeddings_model.embed_query("What was the name mentioned in the conversation?")
embedded_query[:5]
```

```
[0.0053587136790156364,
 -0.0004999046213924885,
 0.038883671164512634,
 -0.003001077566295862,
 -0.00900818221271038]
```

以上便是使用LangChain进行文本嵌入的基本步骤和方法，相信通过以上的介绍，你已经对如何使用LangChain的文本嵌入模型有了基本的理解和掌握。
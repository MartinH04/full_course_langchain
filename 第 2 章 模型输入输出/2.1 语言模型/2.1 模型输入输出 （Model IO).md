# 模型输入输出

LangChain 打通了大语言模型应用开发的“最后一公里”。

任何大语言模型应用的核心元素是 —— 模型的输入 Input 和输出 Output (简称模型输入输出 (Model I/O),下面都用 I 表示模型的输入 Input，O 表示模型的输出 Output）。

最近一年左右，通过强化学习等方法对模型进行微调（Fine-tuning），以及在提示（Prompt）中使用各种方法，以从这些模型中获得最佳效果。一旦我们能够做到这一点，从这些大型语言模型中我们可以得到一些非常好的结果。问题是，它们仍然无法以接口方式访问现有数据和API,无法与真实的世界连接起来就很难应用,尤其是复杂的应用。

如果我们想要使用这些模型构建一个应用程序，我们需要某种方式在大型语言模型和传统软件之间进行接口交互。同时，越来越多的大语言模型涌现出来，模型输入输出变得异常重要。LangChain 为我们提供了与任何大型语言模型进行交互的基本组件。

LangChain 不仅可以方便地与最新、最强大的模型如GPT-4进行交互，还可以与本地私有化部署的语言模型，或是在 HuggingFace 上找到的开源模型进行交互。

只需几行代码，就可以实现与这些模型进行对话。如何使用 Langchain 的基础组件模型输入输出来访问大型语言模型？来看看下面这张示意图：

![ model_io 图示](/img/model_io.jpg)

Model I/O 组件提供了三个核心功能：

- [语言模型 models ](/docs/modules/model_io/models/): 通过接口调用语言模型，即 Model。
- [提示 prompts ](/docs/modules/model_io/prompts/): 将模型输入模板化、动态选择和管理，即 Model I。
- [输出解析器 output_parsers ](/docs/modules/model_io/output_parsers/): 从模型输出中提取信息 ，即 Model O。


我们将深入了解如何使用 Langchain 的模型输入输出组件来访问大语言模型。我们先认识三大模型类别。


## 语言模型的分类

LangChain 模型输入输出组件的目前有三大模型类型。分别是通用大型语言模型 LLMs， 专用聊天模型 Chat Models 和文本嵌入模型 Text Embedding Models。

在 LangChain 中使用的不同类型的完成大语言模型输入和输出。在这一章中，我们将对模型类型进行分类和认识。

### 通用大型语言模型

首先介绍的是大型语言模型（ LLMs ）。这些模型以文本字符串作为输入，并返回文本字符串作为输出。

### 专用聊天模型

第二种是专用聊天模型。这些模型通常由语言模型支持，但其 API 更加结构化。具体来说，这些模型以聊天消息列表作为输入，并返回聊天消息。

### 文本嵌入模型

文本嵌入模型是以文本作为输入，并返回浮点数列表，也就是向量维度表示的列表。

这三种类型中，通用大型语言模型和专用聊天模型很容易被人误解没有必要。实际上，通用大型语言模型和专用聊天模型有微妙但重要的区别。

###  通用大型语言模型和专用聊天模型的区别

LangChain 中的 通用大型语言模型是指纯文本补全模型， 也就是Text To Text。
它们包装的 API 接受字符串提示作为输入，并输出字符串补全部分。OpenAI 的 GPT-3 就是 LLM 的实现典型。

专用聊天模型通常由 LLMs 支持，但专门用于进行对话。

专用聊天模型的不同之处在于：提供以 "聊天消息" 作为输入和输出的接口。它们的输入不是单个字符串，而是聊天消息的列表。

通常，这些消息带有发言者身份（LangChain 目前支持的消息类型有“AIMessage”，“HumanMessage”，“SystemMessage”）。它们返回一个（"AI"）聊天消息作为输出。GPT-4 和 Anthropic 的 Claude 都是作为专用聊天模型实现的。


###  通用大型语言模型和专用聊天模型的的学习路径


在Langchain的发展迭代过程中，每个模块都精细地划分出通用大型语言模型（LLM）和专用聊天模型两种类型，紧跟OpenAI的前沿技术潮流，以更好地适配新的专用聊天模型。

这一区分已经形成了一种趋势，也为我们学习Langchain提供了线索。每当我们看到一个针对通用模型的Langchain类或方法，我们便能预期到对应的聊天模型类或方法也必然存在。

然而，Langchain这样的做法有时候会让人感到困惑，因为它每次都会单独声明通用大型语言模型和专用聊天模型的不同代码。但是，如果你从模型的输入输出开始理解，下面的学习过程会变得轻松很多。例如，如果你刚刚学到通用模型，你就预期会有一个聊天模型，你就能更好地做出预测。


## 模型输出的通用接口

无论是通用大模型还是专用聊天模型，Langchain 都暴露了predict方法，而且包装进了对话的链或者代理上，使用非常方便。



